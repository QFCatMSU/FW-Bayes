---
title: "Software Installation"
author: "Charlie Belinsky"
title-slide-attributes:
    data-background-image: "https://qfcatmsu.github.io/Images/dark-big.png"  
    data-background-size: "40%"
    data-background-position: "6% 95%"
subtitle: FW 891
date: 9 August 2023
date-format: "D MMMM YYYY"
format: 
  revealjs:
    css: "https://qfcatmsu.github.io/css/presStyle.css"
    slide-number: c/t  
    theme: simple 
editor: visual
highlight-style: kate
---

## Install R and RStudio

For this class you need to have at minimum R version 4.3 and a 2023 version of RStudio:

Downloads:

[R for Windows](https://cran.r-project.org/bin/windows/base/)

[R for Mac](https://cran.r-project.org/bin/macosx/)

-   There are two download options (M1/M2 and Intel) -- your Mac will tell you if you try to install the wrong version

[RStudio for Windows and Mac](https://posit.co/download/rstudio-desktop/)

## Install Rtools (Windows only)

Make sure RStudio is closed when you install Rtools.

Many application in R (including rstan) require a C++ compiler. On Windows, download and install Rtools43. [The Rtools43 installer link is on this page](https://cran.r-project.org/bin/windows/Rtools/rtools43/rtools.html).

You need to have a version of Rtools43 from 2023. If you installed RTools43 before 2023 then reinstall it -- it has changed.

## Install Homebrew (Mac only)

Make sure RStudio is closed when you install Homebrew.

You have probably seen a Mac prompt to install the Command Line Developer Tools. The best way to do this is to install [Homebrew](https://brew.sh/). Homebrew is an indispensable program for programmers using Mac and it will handle your C++ compilation needs.

To install Homebrew, copy the code on the [Homebrew](https://brew.sh/) page starting with `/bin/bash -c...`. Paste the code to either a Mac Terminal or the Terminal tab in RStudio (they are the same thing) and hit Enter.

## R Packages to install

You will need to install the following packages in R:

rstan, tidyverse, bayesplot, remotes, devtools, gridExtra, and hexbin.

They can all be installed at once with the following R command (and a little patience):

``` r
install.packages(c("rstan", "tidyverse", "bayesplot", "remotes", "devtools", "gridExtra", "hexbin"))
```

A pop-up will appear (sometimes in the background) asking you: *Do you want to install from sources the packages which needs compilation?* Answer: *Yes*.

## Install CmdStanR

For this class we will be using the cmdstanr package. This is not a package on CRAN, so it needs to be downloaded and compiled for the GitHub page using the following R code:

``` r
remotes::install_github("stan-dev/cmdstanr")
```

After installing cmdstanr on Windows you will need to execute the following:

``` r
cmdstanr::check_cmdstan_toolchain(fix=TRUE)
```

For both Windows and Mac, you now need to install cmdstanr on your computer (this takes a while):

``` r
cmdstanr::install_cmdstan(overwrite=TRUE)
```

## Install QFC Package

The GGPlots created in this class are done using a theme coded by the QFC which can be installed as a package:

``` r
devtools::install_github("QFCatMSU/gg-qfc")
```

## Test Installation

Download this script to test the installation. Open the script in RStudio, and click Source. The results should look like this:

![](images/Installation_Results.png)

## Questions or Issues

Contact Charlie at belinsky\@msu.edu if you have any problems with the software.
